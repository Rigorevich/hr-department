datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Department {
  id    Int     @default(autoincrement()) @id
  createdAt DateTime @default(now())
  name String @db.VarChar(55)  @unique
  description  String
  staff Employee[] @relation("Staff")
  boss Employee? @relation("Boss", fields: [bossId], references: [id])
  bossId Int? @unique
}

model Employee {
  id        Int      @default(autoincrement()) @id
  name     String   @db.VarChar(255)
  surname   String  @db.VarChar(255)
  patronymic String @db.VarChar(255)
  position String   @db.VarChar(255)
  startDate DateTime @default(now())
  department    Department?    @relation(name: "Staff", fields: [departmentId], references: [id])
  ownedDepartment    Department?    @relation(name: "Boss")
  departmentId  Int?
}




